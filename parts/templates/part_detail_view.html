{% extends 'base.html' %}
{% load static %}
{% block content %}
<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>

<style>
    .partcont{
        display: grid;
        grid-template-areas:
            "title title title"
			"pict pict side"
			"partdata partdata partdata"; 
    }
    .title{
        grid-area:title;
    }
    .pict{
        grid-area:pict;
    }
    .side{
        grid-area:side;
    }
    .partdata{
        grid-area:partdata;
    }
    .slide{
        width: 700px;
        margin: 30px;
    }
    .slider-nav{
        display: grid;
        width: 100%;
        grid-gap:10px;
        justify-content: space-around;
    }
    .slick-prev:before {
    color: #000;
    }
    .slick-next:before {
    color: #000;
    }
</style>

<div class="container">
    <div class="row mt-3 border partcont">
        <div class="border title">
            <h2>
                {{part.title}}
            </h2>
        </div>
        <div class="border pict m-3">
            <div class="slide">
               {% for image in part.odd_images.all %}
               <div>
                    <img src="{{ image.image.url }}" alt="" width="100%">
               </div>
               {% endfor %}
            </div>
            <div class="slider-nav">
                {% for image in part.odd_images.all %}
               <div>
                    <img src="{{ image.image.url }}" alt="" width="100px">
               </div>
               {% endfor %}
            </div>
        </div>
        <div class="border side m-3"> 
            <div class="m-2">
                <div class="mt-2">
                    <p class="h5">Ціна: {{part.price}} ГРН</p>
                </div>
                <div class="mt-3">
                    {%if part.shipping == True%}
                    <p class="h6">Доставка товару почтою або видача в найближчому магазині </p>
                    {% else %}
                    Тільки видача в магазині
                    {% endif %}
                </div>
                <div class="mt-3">
                    <p class="h6">Залишилося {{ part.instock }} од.</p>
                </div>
                <form action="{% url 'shopping_cart:add_to_cart' part.id %}">
                    <div class='mt-3 quantity'>
                        <input type="number" name='quantity' id='quantity' min="1" value='1'>
                    </div>
                    <div class="mt-3">
                        <button class="btn btn-warning">В корзину</button>
                    </div>
                </form>
            </div>
        </div>
        <div class="border partdata">
            <table class="table table-bordered">
                <thead>
                  <tr>
                    <th scope="col">original</th>
                    <th scope="col">cross</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th scope="row">{{ part.original }}</th>
                    <td>{{ part.cross }}</td>
                  </tr>
                </tbody>
              </table>
        </div>
    </div>
</div>
<script>
    $(document).ready(function(){
        $('.slide').slick({
            slidesToShow: 1,
            slidesToScroll: 1,
            arrows: true,
            fade: true,
        });
        $('.slider-nav').slick({
            slidesToShow: '{{ part.odd_images.count }}',
            width: '100px',
            slidesToScroll: 1,
            asNavFor: '.slide',
            centerMode: true,
            focusOnSelect: true
        });
    });
</script>
<script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script type="text/javascript" src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
{% endblock %}